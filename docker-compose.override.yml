version: "3.8"

networks:
  dokploy-network:
    external: true

services:
  zammad-nginx:
    networks:
      - default
      - dokploy-network
    ports: []  # Eliminar el expose para evitar conflictos

  # Los dem√°s servicios solo necesitan la red default
  zammad-railsserver:
    networks:
      - default

  zammad-scheduler:
    networks:
      - default

  zammad-websocket:
    networks:
      - default

  zammad-elasticsearch:
    networks:
      - default

  zammad-init:
    networks:
      - default

  zammad-memcached:
    networks:
      - default

  zammad-postgresql:
    networks:
      - default

  zammad-redis:
    networks:
      - default

  zammad-backup:
    networks:
      - default
